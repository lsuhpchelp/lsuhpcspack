#%Module

proc ModulesHelp { } {
    puts stderr {   This is an intel MPI implementation from Intel OneAPI HPC Toolkit
    }
}

module-whatis {  This is an intel MPI implementation from Intel OneAPI HPC Toolkit.}

conflict  intel-mpi mvapich2 mpich openmpi

if { ![is-loaded intel/2021.5.0] } {
    module load intel/2021.5.0
}

prepend-path CLASSPATH /home/packages/compilers/intel/mpi/2021.5.1//lib/mpi.jar
prepend-path CPATH /home/packages/compilers/intel/mpi/2021.5.1//include
setenv FI_PROVIDER_PATH /home/packages/compilers/intel/mpi/2021.5.1//libfabric/lib/prov:/usr/lib64/libfabric
setenv I_MPI_ROOT /home/packages/compilers/intel/mpi/2021.5.1
setenv I_MPI_PMI_LIBRARY /usr/lib64/libpmi2.so
prepend-path LD_LIBRARY_PATH /home/packages/compilers/intel/mpi/2021.5.1//libfabric/lib:/home/packages/compilers/intel/mpi/2021.5.1//lib/release:/home/packages/compilers/intel/mpi/2021.5.1//lib
prepend-path LIBRARY_PATH /home/packages/compilers/intel/mpi/2021.5.1//libfabric/lib:/home/packages/compilers/intel/mpi/2021.5.1//lib/release:/home/packages/compilers/intel/mpi/2021.5.1//lib
prepend-path MANPATH /home/packages/compilers/intel/mpi/2021.5.1/man
prepend-path PATH /home/packages/compilers/intel/mpi/2021.5.1//libfabric/bin:/home/packages/compilers/intel/mpi/2021.5.1//bin
prepend-path PKG_CONFIG_PATH /home/packages/compilers/intel/mpi/2021.5.1/lib/pkgconfig
